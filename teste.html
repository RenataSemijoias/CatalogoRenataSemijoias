<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Renata - Semijoias e Acessórios</title>
    <style>
        /* Previous styles remain the same */
        /* Adding pagination styles */
        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        
        .pagination button {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            background: linear-gradient(135deg, #d4af37, #b8860b);
            color: white;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .pagination button:disabled {
            background: #cccccc;
            cursor: not-allowed;
        }
        
        .pagination button:not(:disabled):hover {
            transform: scale(1.05);
        }
        
        .page-info {
            display: flex;
            align-items: center;
            color: #333;
            font-size: 14px;
        }

        /* Rest of your existing styles */
    </style>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</head>
<body>
    <!-- Previous HTML content remains the same until gallery div -->
    <div class="gallery" id="gallery"></div>
    <div class="pagination" id="pagination">
        <button id="prevPage" onclick="previousPage()">Anterior</button>
        <div class="page-info">Página <span id="currentPage">1</span> de <span id="totalPages">1</span></div>
        <button id="nextPage" onclick="nextPage()">Próxima</button>
    </div>
    <!-- Rest of your HTML remains the same -->

    <script>
        // Previous variables and functions remain the same
        let currentPage = 1;
        const imagesPerPage = 20;
        let currentImages = [];

        async function loadImages(folderName) {
            currentFolder = folderName;
            const banhosNaCategoria = new Set();

            try {
                const response = await fetch(`${repoUrl}/${folderName}`);
                const files = await response.json();
                files.sort((a, b) => b.name.localeCompare(a.name, undefined, { numeric: true }));
                
                // Store all images for pagination
                currentImages = files.filter(file => 
                    file.name.endsWith('.jpg') || file.name.endsWith('.png')
                );

                // Set up initial pagination
                setupPagination();
                displayCurrentPage();

                // Collect banhos for subcategories
                currentImages.forEach(file => {
                    const codigo = file.name.split('.')[0];
                    const { banho } = descricoes[codigo] || { banho: "todos" };
                    if (banho) {
                        banhosNaCategoria.add(banho);
                    }
                });

                criarBotoesSubcategorias(banhosNaCategoria);
            } catch (error) {
                console.error("Erro ao carregar imagens:", error);
            }
        }

        function setupPagination() {
            currentPage = 1;
            const totalPages = Math.ceil(currentImages.length / imagesPerPage);
            document.getElementById('currentPage').textContent = currentPage;
            document.getElementById('totalPages').textContent = totalPages;
            updatePaginationButtons();
        }

        function displayCurrentPage() {
            const gallery = document.getElementById('gallery');
            gallery.innerHTML = '';
            
            const startIndex = (currentPage - 1) * imagesPerPage;
            const endIndex = Math.min(startIndex + imagesPerPage, currentImages.length);
            
            for (let i = startIndex; i < endIndex; i++) {
                const file = currentImages[i];
                const codigo = file.name.split('.')[0];
                const { descricao, preco, banho } = descricoes[codigo] || {
                    descricao: "Descrição não disponível",
                    preco: "Preço não disponível",
                    banho: "todos"
                };

                const item = document.createElement('div');
                item.className = 'item';
                item.dataset.banho = banho;

                const img = document.createElement('img');
                img.src = file.download_url;
                img.onclick = () => showModal(file.download_url, codigo);
                
                const codigoElement = document.createElement('div');
                codigoElement.className = 'codigo';
                codigoElement.textContent = `COD: ${codigo}`;

                const desc = document.createElement('div');
                desc.className = 'description';
                desc.textContent = descricao;

                const precoElement = document.createElement('div');
                precoElement.className = 'preco';
                precoElement.textContent = preco;

                item.append(img, codigoElement, desc, precoElement);
                gallery.appendChild(item);
            }
        }

        function updatePaginationButtons() {
            const totalPages = Math.ceil(currentImages.length / imagesPerPage);
            document.getElementById('prevPage').disabled = currentPage === 1;
            document.getElementById('nextPage').disabled = currentPage === totalPages;
        }

        function previousPage() {
            if (currentPage > 1) {
                currentPage--;
                document.getElementById('currentPage').textContent = currentPage;
                displayCurrentPage();
                updatePaginationButtons();
            }
        }

        function nextPage() {
            const totalPages = Math.ceil(currentImages.length / imagesPerPage);
            if (currentPage < totalPages) {
                currentPage++;
                document.getElementById('currentPage').textContent = currentPage;
                displayCurrentPage();
                updatePaginationButtons();
            }
        }

        function filterByBanho(banho) {
            if (banho === 'todos') {
                currentImages = currentImages.filter(file => 
                    file.name.endsWith('.jpg') || file.name.endsWith('.png')
                );
            } else {
                currentImages = currentImages.filter(file => {
                    const codigo = file.name.split('.')[0];
                    const itemBanho = descricoes[codigo]?.banho || 'todos';
                    return itemBanho === banho;
                });
            }
            setupPagination();
            displayCurrentPage();
        }

        // Rest of your existing script remains the same
    </script>
</body>
</html>
